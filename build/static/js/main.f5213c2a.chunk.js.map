{"version":3,"sources":["components/Form.js","components/Persons.js","services/phonebook.js","App.js","index.js"],"names":["Form","props","onSubmit","addPerson","value","newName","onChange","handleNewName","newNumber","handleNewNumber","type","ShowPerson","person","handleClick","name","number","onClick","ShowNumbers","persons","filter","toLowerCase","includes","map","id","baseUrl","axios","get","then","response","data","newPerson","post","delete","put","Notification","msg","className","Error","App","useState","setPersons","setNewName","setNewNumber","newFilter","setNewFilter","infomsg","setNewInfo","errormsg","setNewError","names","useEffect","pbService","initialData","event","target","preventDefault","personObject","window","confirm","returnedPerson","setTimeout","catch","error","concat","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"kMAwBiBA,EAtBJ,SAACC,GACV,OACE,uBAAMC,SAAUD,EAAME,UAAtB,UACI,yCACQ,uBACJC,MAAOH,EAAMI,QACbC,SAAUL,EAAMM,mBAGpB,4CACW,uBACPH,MAAOH,EAAMO,UACbF,SAAUL,EAAMQ,qBAGpB,8BACE,wBAAQC,KAAK,SAAb,uBCNJC,EAAa,SAAC,GAA2B,IAA1BC,EAAyB,EAAzBA,OAAQC,EAAiB,EAAjBA,YAC3B,OACA,8BAAID,EAAOE,KAAX,IAAkBF,EAAOG,OACzB,wBAAQC,QAAS,kBAAMH,EAAYD,IAAnC,wBAOaK,EApBG,SAAC,GAAoC,IAAnCC,EAAkC,EAAlCA,QAASC,EAAyB,EAAzBA,OAAQN,EAAiB,EAAjBA,YAGnC,OAFeK,EAAQC,QAAO,SAAAP,GAAM,OACpCA,EAAOE,KAAKM,cAAcC,SAASF,EAAOC,kBAE/BE,KAAI,SAAAV,GAAM,OACjB,cAAC,EAAD,CAA4BA,OAAQA,EAAQC,YAAaA,GAAxCD,EAAOW,Q,gBCN1BC,EAAU,eAsBD,EApBA,WAEX,OADgBC,IAAMC,IAAIF,GACXG,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAkB9B,EAfH,SAAAC,GAER,OADgBL,IAAMM,KAAKP,EAASM,GACrBH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAa9B,EAVA,SAAAN,GACXE,IAAMO,OAAN,UAAgBR,EAAhB,YAA2BD,KAShB,EANA,SAACA,EAAIO,GAEhB,OADgBL,IAAMQ,IAAN,UAAaT,EAAb,YAAwBD,GAAMO,GAC/BH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SCbvCK,G,MAAe,SAAC,GAAa,IAAXC,EAAU,EAAVA,IACtB,OAAU,OAANA,EACK,KAGP,qBAAKC,UAAU,OAAf,SACGD,MAKDE,EAAQ,SAAC,GAAa,IAAXF,EAAU,EAAVA,IACf,OAAU,OAANA,EACK,KAGP,qBAAKC,UAAU,QAAf,SACGD,KAuIQG,EAlIH,WACV,MAA8BC,mBAAS,IAAvC,mBAAOrB,EAAP,KAAgBsB,EAAhB,KACA,EAAgCD,mBAAS,IAAzC,mBAAQlC,EAAR,KAAiBoC,EAAjB,KACA,EAAoCF,mBAAS,IAA7C,mBAAQ/B,EAAR,KAAmBkC,EAAnB,KACA,EAAoCH,mBAAS,IAA7C,mBAAQI,EAAR,KAAmBC,EAAnB,KACA,EAAgCL,mBAAS,MAAzC,mBAAQM,EAAR,KAAiBC,EAAjB,KACA,EAAkCP,mBAAS,MAA3C,mBAAQQ,EAAR,KAAkBC,EAAlB,KACMC,EAAQ/B,EAAQI,KAAI,SAAAV,GAAM,OAAIA,EAAOE,QAE3CoC,qBAAU,WACRC,IAECxB,MAAK,SAAAyB,GACJZ,EAAWY,QAEZ,IAuFH,OACE,gCACE,2CACE,sDACqB,uBACnB1C,KAAK,OACLJ,SAvBgB,SAAC+C,GACvBT,EAAaS,EAAMC,OAAOlD,aAyBtB,cAAC,EAAD,CAAc+B,IAAKU,IACnB,cAAC,EAAD,CAAOV,IAAKY,IACd,2CACA,cAAC,EAAD,CACE5C,UAlGY,SAACkD,GACjBA,EAAME,iBACN,IAAMC,EAAe,CACnB1C,KAAMT,EACNU,OAAQP,GAGV,GAAIyC,EAAM5B,SAAShB,GAAS,CAC1B,IAGMkB,EAHOL,EAAQC,QACnB,SAAAP,GAAM,OAAIA,EAAOE,OAAST,KAEZ,GAAGkB,GACfkC,OAAOC,QAAP,UAAkBrD,EAAlB,iFAEF8C,EACQ5B,EAAIiC,GACX7B,MAAK,SAAAgC,GACJnB,EAAWtB,EAAQI,KAAI,SAAAV,GAAM,OAC3BA,EAAOW,KAAOA,EAAKX,EAAS+C,MAChCb,EAAW,sBAAD,OACczC,IAExBoC,EAAW,IACXC,EAAa,IACbkB,YAAW,WACTd,EAAW,QACV,QAEFe,OAAM,SAAAC,GACLd,EAAY,kBAAD,OAAmB3C,EAAnB,qCACXuD,YAAW,WACTZ,EAAY,QACX,aAMPG,EACKK,GACJ7B,MAAK,SAAAgC,GACNnB,EAAWtB,EAAQ6C,OAAOJ,IAC1Bb,EAAW,SAAD,OACCzC,IAEXoC,EAAW,IACXC,EAAa,IACbkB,YAAW,WACTd,EAAW,QACV,QAEFe,OAAM,SAAAC,GACLd,EAAY,kEACVY,YAAW,WACTZ,EAAY,QACX,SA4CL3C,QAASA,EACTG,UAAWA,EACXD,cAzCgB,SAAC8C,GACrBZ,EAAWY,EAAMC,OAAOlD,QAyCpBK,gBAtCkB,SAAC4C,GACvBX,EAAaW,EAAMC,OAAOlD,UAuCxB,yCACA,8BACE,cAAC,EAAD,CAAac,QAASA,EAASC,OAAQwB,EAAW9B,YAlCnC,SAAAD,GACf6C,OAAOC,QAAP,iBAAyB9C,EAAOE,KAAhC,QACFqC,EAAiBvC,EAAOW,IACxBuB,EAAW,GAAD,OACLlC,EAAOE,KADF,aAGV8C,YAAW,WACTd,EAAW,QACV,eCxHTkB,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.f5213c2a.chunk.js","sourcesContent":["import React from 'react'\n\nconst Form = (props) => {\n    return (\n      <form onSubmit={props.addPerson}>\n          <div>\n            name: <input\n              value={props.newName}\n              onChange={props.handleNewName}\n            />\n          </div>\n          <div>\n            number : <input\n              value={props.newNumber}\n              onChange={props.handleNewNumber}\n            />\n          </div>\n          <div>\n            <button type=\"submit\">add</button>\n          </div>\n        </form>\n    )\n  }\n\n  export default Form","import React from 'react'\n\nconst ShowNumbers = ({persons, filter, handleClick}) => {\n  const filtered = persons.filter(person =>\n    person.name.toLowerCase().includes(filter.toLowerCase()))\n    return(\n      filtered.map(person =>\n        <ShowPerson key={person.id} person={person} handleClick={handleClick}/>\n        )\n    )\n    }\n  \n  const ShowPerson = ({person, handleClick}) => {\n    return(\n    <p>{person.name} {person.number}\n    <button onClick={() => handleClick(person)}>\n      delete\n    </button>\n    </p>\n    )\n  }\n\n  export default ShowNumbers","import axios from \"axios\"\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\nconst add = newPerson => {\n    const request = axios.post(baseUrl, newPerson)\n    return request.then(response => response.data)\n}\n\nconst remove = id => {\n    axios.delete(`${baseUrl}/${id}`)\n}\n\nconst update = (id, newPerson) => {\n    const request = axios.put(`${baseUrl}/${id}`, newPerson)\n    return request.then(response => response.data)\n}\n\n\nexport default {getAll, add, remove, update}","import React, { useState, useEffect } from 'react'\nimport Form from './components/Form'\nimport ShowNumbers from './components/Persons'\nimport pbService from './services/phonebook'\nimport './index.css'\n\nconst Notification = ({ msg }) => {\n  if (msg===null) {\n    return null\n  }\n  return (\n    <div className='info'>\n      {msg}\n    </div>\n  )\n}\n\nconst Error = ({ msg }) => {\n  if (msg===null) {\n    return null\n  }\n  return (\n    <div className='error'>\n      {msg}\n    </div>\n  )\n}\n\nconst App = () => {\n  const [persons, setPersons] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ newFilter, setNewFilter ] = useState('')\n  const [ infomsg, setNewInfo ] = useState(null)\n  const [ errormsg, setNewError ] = useState(null)\n  const names = persons.map(person => person.name)\n\n  useEffect(() => {\n    pbService\n    .getAll()\n    .then(initialData =>{\n      setPersons(initialData)\n    })\n  }, [])\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    const personObject = { \n      name: newName,\n      number: newNumber\n    }\n\n    if (names.includes(newName)){\n      const data = persons.filter(\n        person => person.name === newName\n      )\n      const id = data[0].id\n      if (window.confirm(`${newName} is already added to phonebook,\n      replace the old number with new one?`)) {\n        pbService\n        .update(id, personObject)\n        .then(returnedPerson => {\n          setPersons(persons.map(person => \n            person.id !== id ? person : returnedPerson))\n        setNewInfo(\n          `Updated number for ${newName}`\n        )\n        setNewName('')\n        setNewNumber('')\n        setTimeout(() => {\n          setNewInfo(null)\n        }, 3000)\n        })\n        .catch(error => {\n          setNewError(`Information of ${newName} was already removed from server`)\n          setTimeout(() => {\n            setNewError(null)\n          }, 3000)\n        })\n        }\n      \n      }\n    else{\n      pbService\n      .add(personObject)\n      .then(returnedPerson => {\n      setPersons(persons.concat(returnedPerson))\n      setNewInfo(\n        `Added ${newName}`\n      )\n      setNewName('')\n      setNewNumber('')\n      setTimeout(() => {\n        setNewInfo(null)\n      }, 3000)\n      })\n      .catch(error => {\n        setNewError(`Name must be atleast 3 characters and number 8 characters long`)\n          setTimeout(() => {\n            setNewError(null)\n          }, 3000)\n      })\n    }\n  }\n\n  const handleNewName = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNewNumber = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleNewFilter = (event) => {\n    setNewFilter(event.target.value)\n  }\n\n  const handleDelete = person => {\n    if (window.confirm(`Delete ${person.name}?`)){\n      pbService.remove(person.id)\n      setNewInfo(\n        `${person.name} deleted`\n      )\n      setTimeout(() => {\n        setNewInfo(null)\n      }, 3000)\n    }\n  }\n\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n        <div>\n          filter shown with: <input\n          type='text'\n          onChange={handleNewFilter} \n          />\n        </div>\n        <Notification msg={infomsg} />\n        <Error msg={errormsg} />\n      <h2>add a new</h2>\n      <Form\n        addPerson={addPerson}\n        newName={newName}\n        newNumber={newNumber}\n        handleNewName={handleNewName}\n        handleNewNumber={handleNewNumber}\n        />\n      <h2>Numbers</h2>\n      <div>\n        <ShowNumbers persons={persons} filter={newFilter} handleClick={handleDelete} />\n      </div>\n    </div>\n  )\n\n}\n\nexport default App\n"," \nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}